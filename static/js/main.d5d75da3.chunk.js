(this["webpackJsonpar-scene-generator"]=this["webpackJsonpar-scene-generator"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(9),o=n.n(i),s=n(2),c=n(3),l=n(5),d=n(4),u=(n(14),n(15),n(0)),m=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsxs)("div",{className:"alert alert-dismissible alert-info",children:[Object(u.jsx)("strong",{children:"You can"})," download all of the required libraries"," ",Object(u.jsx)("a",{className:"alert-link",href:"https://drive.google.com/u/0/uc?id=1mJgat4qDhj9fVxP9XVrlDdqTTM60itb6&export=download",children:"here"}),".",Object(u.jsx)("br",{}),Object(u.jsx)("strong",{children:"To read"})," the documentation follow"," ",Object(u.jsx)("a",{className:"alert-link",href:"https://github.com/saveniukoleg/ar-scene-generator/wiki",children:"this link"}),"."]}),Object(u.jsx)("div",{className:"language-select",children:Object(u.jsxs)("select",{className:"form-control",onChange:function(e){return console.log(e.target.value)},children:[Object(u.jsx)("option",{children:"UA"}),Object(u.jsx)("option",{children:"EU"}),Object(u.jsx)("option",{children:"RU"})]})})]})}}]),n}(r.a.Component),h=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsx)("div",{className:"footer",children:Object(u.jsx)("div",{className:"alert alert-dismissible alert-info",children:"\u0422\u0443\u0442 \u0456\u0434\u0435 \u0437\u0440\u0430\u0437\u043e\u043a \u0442\u0435\u043a\u0441\u0442\u0443, \u044f\u043a\u0438\u0439 \u0434\u043e\u043f\u043e\u043c\u043e\u0436\u0435 \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0435\u0432\u0456 \u0437\u0440\u043e\u0437\u0443\u043c\u0456\u0442\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0443. \u0411\u043e\u0433\u0440\u0430\u043d \u043f\u043e\u0432\u0438\u043d\u0435\u043d \u043e\u0442\u0440\u0438\u043c\u0430\u0442\u0438 \u0442\u0435\u043a\u0441\u0442 \u0434\u043b\u044f \u0446\u044c\u043e\u0433\u043e \u0437 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0456\u0457 \u0442\u0430 \u0434\u043e\u0434\u0430\u0442\u0438 \u0432\u043b\u0430\u0441\u043d\u0456 \u0432\u0438\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044f"})})}}]),n}(r.a.Component),p=n(6),j=["\n      <!DOCTYPE html>\n  \n      <head>\n          <meta name=\"viewport\" content=\"width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0\">\n          <title>AR project template</title>\n          \x3c!-- include three.js library --\x3e\n          <script src='js/three.js'><\/script>\n          <script src='js/OBJLoader.js'><\/script>\n          <script src='js/MTLLoader.js'><\/script>\n          \x3c!-- include tween.js library --\x3e\n          <script src=\"js/tween.umd.js\"><\/script>\n          \x3c!-- include jsartookit --\x3e\n          <script src=\"jsartoolkit5/artoolkit.min.js\"><\/script>\n          <script src=\"jsartoolkit5/artoolkit.api.js\"><\/script>\n          \x3c!-- include threex.artoolkit --\x3e\n          <script src=\"threex/threex-artoolkitsource.js\"><\/script>\n          <script src=\"threex/threex-artoolkitcontext.js\"><\/script>\n          <script src=\"threex/threex-arbasecontrols.js\"><\/script>\n          <script src=\"threex/threex-armarkercontrols.js\"><\/script>\n      </head>\n      \n      <body style='margin : 0px; overflow: hidden; font-family: Monospace;'>\n      \n          \x3c!-- \n        Example based on the AR.js library and examples created by Jerome Etienne: https://github.com/jeromeetienne/AR.js/\n      --\x3e\n      \n          <script>\n              var scene, camera, renderer, clock, deltaTime, totalTime;\n      \n              var arToolkitSource, arToolkitContext;\n      \n              var markerRoot, mainContainer;\n  \n              var audioContent = [];\n      \n              initialize();\n              animate();\n      \n              function initialize() {\n                  scene = new THREE.Scene();\n      \n                  let ambientLight = new THREE.AmbientLight(0xcccccc, 0.5);\n                  scene.add(ambientLight);\n      \n                  camera = new THREE.Camera();\n                  scene.add(camera);\n      \n                  renderer = new THREE.WebGLRenderer({\n                      antialias: true,\n                      alpha: true\n                  });\n                  renderer.setClearColor(new THREE.Color('lightgrey'), 0)\n                  renderer.setSize(640, 480);\n                  renderer.domElement.style.position = 'absolute'\n                  renderer.domElement.style.top = '0px'\n                  renderer.domElement.style.left = '0px'\n                  document.body.appendChild(renderer.domElement);\n      \n                  clock = new THREE.Clock();\n                  deltaTime = 0;\n                  totalTime = 0;\n      \n                  ////////////////////////////////////////////////////////////\n                  // setup arToolkitSource\n                  ////////////////////////////////////////////////////////////\n      \n                  arToolkitSource = new THREEx.ArToolkitSource({\n                      sourceType: 'webcam',\n                  });\n      \n                  function onResize() {\n                      arToolkitSource.onResize()\n                      arToolkitSource.copySizeTo(renderer.domElement)\n                      if (arToolkitContext.arController !== null) {\n                          arToolkitSource.copySizeTo(arToolkitContext.arController.canvas)\n                      }\n                  }\n      \n                  arToolkitSource.init(function onReady() {\n                      onResize()\n                  });\n      \n                  // handle resize event\n                  window.addEventListener('resize', function () {\n                      onResize()\n                  });\n      \n                  ////////////////////////////////////////////////////////////\n                  // setup arToolkitContext\n                  ////////////////////////////////////////////////////////////\t\n      \n                  // create atToolkitContext\n                  arToolkitContext = new THREEx.ArToolkitContext({\n                      cameraParametersUrl: 'data/camera_para.dat',\n                      detectionMode: 'mono'\n                  });\n      \n                  // copy projection matrix to camera when initialization complete\n                  arToolkitContext.init(function onCompleted() {\n                      camera.projectionMatrix.copy(arToolkitContext.getProjectionMatrix());\n                  });\n      \n                  ////////////////////////////////////////////////////////////\n                  // setup markerRoots\n                  ////////////////////////////////////////////////////////////\n      \n                  // CUSTOM PART\n                  mainContainer = new THREE.Group();\n                  \n                  const patternNames = [","];\n                  const modes = [","];\n                  const modelFiles = [","];\n                  const imageFiles = [","];\n                  const videoFiles = [","];\n                  const audioFiles = [","];\n                    const repeatOptions = [","];\n  \n                  const markerRoots = [];\n                  for (let i = 0; i < ","; i++) {\n                        markerRoots[i] = new THREE.Group();\n                  }\n  \n                  for (let i = 0; i < ","; i++) {\n                      mainContainer.add(markerRoots[i]);\n                      let markerControls1 = new THREEx.ArMarkerControls(arToolkitContext, markerRoots[i], {\n                          type: 'pattern', patternUrl: `${patternNames[i]}`,\n                      })\n      \n                      switch (modes[i]) {\n                          case 'model':\n                              function onProgress(xhr) { console.log((xhr.loaded / xhr.total * 100) + '% loaded'); }\n                              function onError(xhr) { console.log('An error happened'); }\n      \n                              new THREE.MTLLoader()\n                                  .load(`${modelFiles[i]}.mtl`, function (materials) {\n                                      materials.preload();\n                                      new THREE.OBJLoader()\n                                          .setMaterials(materials)\n                                          .load(`${modelFiles[i]}.obj`, function (group) {\n                                              let mesh0 = group.children[0];\n                                              mesh0.material.side = THREE.DoubleSide;\n                                              mesh0.scale.set(0.05, 0.05, 0.05);\n  \n                                              mesh0.rotation.set(Math.PI / -2, 0, 0);\n      \n                                              markerRoots[i].add(mesh0);\n      \n                                          }, onProgress, onError);\n                                  });\n                              break;\n                          case 'image':\n                              let geometry1 = new THREE.PlaneBufferGeometry(1, 1, 4, 4);\n                              let loader = new THREE.TextureLoader();\n                              let texture = loader.load(`${imageFiles[i]}`, render);\n                              let material1 = new THREE.MeshBasicMaterial({ map: texture, side: THREE.DoubleSide });\n      \n                              mesh1 = new THREE.Mesh(geometry1, material1);\n                              mesh1.rotation.x = -Math.PI / 2;\n                              markerRoots[i].add(mesh1);\n                              break;\n                          case 'video':\n                              let geometry2 = new THREE.PlaneBufferGeometry(2, 2, 4, 4);\n      \n                              let video = document.createElement('video');\n                              video.src = `${videoFiles[i]}`;\n                              if (repeatOptions[i]) {\n                                  video.addEventListener('ended', () => {\n                                      video.play();\n                                  })\n                              }\n                              audioContent.push(video);\n                              let texture2 = new THREE.VideoTexture(video);\n                              texture2.minFilter = THREE.LinearFilter;\n                              texture2.magFilter = THREE.LinearFilter;\n                              texture2.format = THREE.RGBFormat;\n                              let material2 = new THREE.MeshBasicMaterial({ map: texture2 });\n      \n                              mesh2 = new THREE.Mesh(geometry2, material2);\n                              mesh2.rotation.x = -Math.PI / 2;\n      \n                              markerRoots[i].add(mesh2);\n                              break;\n                          default:\n                              let mesh = new THREE.Mesh(\n                                  new THREE.CubeGeometry(1, 1, 1),\n                                  new THREE.MeshBasicMaterial({ color: 'red', transparent: true, opacity: 0.5 })\n                              );\n                              mesh.position.y = 0.5;\n                              markerRoots[i].add(mesh);\n                              break;\n                      }\n      \n      \n                      if (audioFiles[i]) {\n                          const listener = new THREE.AudioListener();\n                          camera.add(listener);\n                          // create a global audio source\n                          const sound = new THREE.Audio(listener);\n                          audioContent.push(sound);\n                          // load a sound and set it as the Audio object's buffer\n                          const audioLoader = new THREE.AudioLoader();\n                          audioLoader.load(`${audioFiles[i]}`, function (buffer) {\n                              sound.setBuffer(buffer);\n                              if (repeatOptions[i]) {\n                                  sound.setLoop(true);\n                              }\n                              sound.setVolume(0.5);\n                          });\n                      }\n                  }\n      \n                  scene.add(mainContainer);\n              }\n      \n              function update() {\n                  // update artoolkit on every frame\n                  if (arToolkitSource.ready !== false) {\n                      arToolkitContext.update(arToolkitSource.domElement);\n                  }\n              }\n      \n              function render() {\n                  renderer.render(scene, camera);\n              }\n      \n      \n              function animate(time) {\n                  requestAnimationFrame(animate);\n                  deltaTime = clock.getDelta();\n                  totalTime += deltaTime;\n                  update();\n                  render();\n              }\n  \n              window.onload = () => {\n                  setTimeout(() => {\n                      for (let i = 0; i < audioContent.length; i++) {\n                          audioContent[i].play();\n                      }\n                  }, 100);\n              }\n      \n          <\/script>\n      \n      </body>\n      \n      </html>\n    "],b=new(function(){function e(){Object(s.a)(this,e),this.prepared=void 0,this.patterns=void 0,this.data=void 0,this.output=void 0,this.prepared=!0,this.patterns=[],this.data=[],this.output=j[0]}return Object(c.a)(e,[{key:"addPattern",value:function(e){this.patterns.push(e)}},{key:"getPatterns",get:function(){return this.patterns}},{key:"codePrepared",get:function(){return this.prepared}},{key:"outputHTML",get:function(){return this.output}},{key:"updateData",value:function(e,t,n){switch(e){case"mode":this.data[n].mode=t;break;case"repeat":this.data[n].repeat=t;break;case"model":var a=t.slice(0,-4);this.data[n].model=a;break;case"sound":this.data[n].sound=t;break;case"video":this.data[n].video=t;break;case"image":this.data[n].image=t}}},{key:"prepareData",value:function(){for(var e=0;e<this.getPatterns.length;e++)this.data.push({pattern:this.patterns[e],mode:"image",model:"",sound:"",image:"",video:"",repeat:"false"})}},{key:"compileData",value:function(){var e=this,t="",n="",a="",r="",i="",o="",s="";return this.data.forEach((function(c,l){l!==e.data.length-1?(t+='"'.concat(c.pattern,'" ,'),n+='"'.concat(c.mode,'" ,'),a+='"'.concat(c.model,'" ,'),r+='"'.concat(c.image,'" ,'),i+='"'.concat(c.video,'" ,'),o+='"'.concat(c.sound,'" ,'),s+='"'.concat(c.repeat,'" ,')):(t+='"'.concat(c.pattern,'"'),n+='"'.concat(c.mode,'"'),a+='"'.concat(c.model,'"'),r+='"'.concat(c.image,'"'),i+='"'.concat(c.video,'"'),o+='"'.concat(c.sound,'"'),s+='"'.concat(c.repeat,'"'))})),this.output+=t+j[1]+n+j[2]+a+j[3]+r+j[4]+i+j[5]+o+j[6]+s+j[7]+"".concat(this.getPatterns.length)+j[8]+"".concat(this.getPatterns.length)+j[9],this.output}}]),e}());function f(){return Object(u.jsxs)("div",{className:"final-output",children:[Object(u.jsx)("b",{children:"\u0417\u0433\u0435\u043d\u0435\u0440\u043e\u0432\u0430\u043d\u0438\u0439 \u043a\u043e\u0434 \u0434\u043b\u044f \u0432\u0430\u0448\u043e\u0457 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u0438:"}),Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),b.compileData()]})}var x=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={patternListValues:Array(),patternId:0},a.onInput=a.onInput.bind(Object(p.a)(a)),a}return Object(c.a)(n,[{key:"onInput",value:function(e){if(e.preventDefault(),e.target.files[0]){var t=e.target.files[0].name;b.addPattern(t);var n=r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center",key:this.state.patternId},t);this.state.patternId++,this.state.patternListValues.push(n),this.setState({patternListValues:this.state.patternListValues})}}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"pattern-list",children:[Object(u.jsx)("ul",{className:"list-group",children:this.state.patternListValues}),Object(u.jsxs)("div",{className:"custom-file pattern-file-input",children:[Object(u.jsx)("input",{type:"file",className:"custom-file-input",id:"inputGroupFile02",onInput:this.onInput}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"inputGroupFile02",children:"Choose file"})]})]})}}]),n}(a.Component),O=n(7);function v(e){var t=Object(a.useState)(""),n=Object(O.a)(t,2),r=n[0],i=n[1],o=Object(a.useState)(""),s=Object(O.a)(o,2),c=s[0],l=s[1],d=Object(a.useState)(!1),m=Object(O.a)(d,2),h=m[0],p=m[1],j=Object(a.useState)(!1),f=Object(O.a)(j,2),x=f[0],v=f[1],k=Object(a.useState)("image"),g=Object(O.a)(k,2),E=g[0],T=g[1];return Object(u.jsxs)("tr",{className:"table-default",children:[Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:Object(u.jsxs)("select",{className:"form-control",onChange:function(t){return n=t.target.value.toLocaleLowerCase(),T(n),void b.updateData("mode",n,e.id);var n},children:[Object(u.jsx)("option",{children:"Image"}),Object(u.jsx)("option",{children:"Video"}),Object(u.jsx)("option",{children:"Model"})]})}),Object(u.jsx)("td",{children:h?r:Object(u.jsxs)("div",{className:"custom-file",children:[Object(u.jsx)("input",{type:"file",className:"custom-file-input content-file-input",id:"inputGroupFile02",onInput:function(t){t.preventDefault();var n=t.target.files[0].name;i(n),p(!0),"image"===E?b.updateData("image",n,e.id):"video"===E?b.updateData("video",n,e.id):"model"===E&&b.updateData("model",n,e.id)}}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"inputGroupFile02",children:"Choose file"})]})}),Object(u.jsx)("td",{children:"video"!==E?x?c:Object(u.jsxs)("div",{className:"custom-file",children:[Object(u.jsx)("input",{type:"file",className:"custom-file-input content-file-input",id:"inputGroupFile02",onInput:function(t){t.preventDefault();var n=t.target.files[0].name;l(n),v(!0),b.updateData("sound",n,e.id)}}),Object(u.jsx)("label",{className:"custom-file-label",htmlFor:"inputGroupFile02",children:"Choose file"})]}):null}),Object(u.jsx)("td",{children:Object(u.jsxs)("div",{className:"custom-control custom-switch",children:[Object(u.jsx)("input",{type:"checkbox",className:"custom-control-input",onClick:function(t){b.updateData("repeat","".concat(t.target.checked),e.id)},id:"customSwitch".concat(e.id)}),Object(u.jsx)("label",{className:"custom-control-label",htmlFor:"customSwitch".concat(e.id),children:"Toggle"})]})})]})}var k=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={tableRows:Array()},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=0;this.state.tableRows.push(Object(u.jsxs)("tr",{className:"table-default",children:[Object(u.jsx)("td",{children:Object(u.jsx)("b",{children:"Pattern file"})}),Object(u.jsx)("td",{children:Object(u.jsx)("b",{children:"Content type"})}),Object(u.jsx)("td",{children:Object(u.jsx)("b",{children:"Content file"})}),Object(u.jsx)("td",{children:Object(u.jsx)("b",{children:"Audio file"})}),Object(u.jsx)("td",{children:Object(u.jsx)("b",{children:"Auto repeat"})})]})),b.prepareData(),b.getPatterns.forEach((function(n){var a=Object(u.jsx)(v,{name:n,id:t});e.state.tableRows.push(a),t++})),this.setState({tableRows:this.state.tableRows})}},{key:"render",value:function(){return Object(u.jsx)("div",{className:"table-wrapper",children:Object(u.jsx)("table",{className:"table table-hover",children:Object(u.jsx)("tbody",{children:this.state.tableRows})})})}}]),n}(a.Component),g=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={stage:"pattern"},a.onClick=a.onClick.bind(Object(p.a)(a)),a}return Object(c.a)(n,[{key:"onClick",value:function(){b.getPatterns.length&&("pattern"===this.state.stage?this.setState({stage:"table"}):"table"===this.state.stage&&b.codePrepared&&this.setState({stage:"final"}))}},{key:"render",value:function(){return Object(u.jsxs)("div",{children:["pattern"===this.state.stage?Object(u.jsx)("div",{className:"main-pattern-instruction",children:"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u043d\u043e\u0432\u0438\u0439 \u0444\u0430\u0439\u043b \u043f\u0430\u0442\u0442\u0435\u0440\u043d\u0443 \u0430\u0431\u043e \u043f\u0456\u0434\u0442\u0432\u0435\u0440\u0434\u0456\u0442\u044c \u0456\u0441\u043d\u0443\u044e\u0447\u0456"}):null,"table"===this.state.stage?Object(u.jsx)(k,{}):"pattern"===this.state.stage?Object(u.jsx)(x,{}):Object(u.jsx)(f,{}),Object(u.jsx)("div",{className:"main-button",children:"final"===this.state.stage?null:Object(u.jsx)("button",{className:"btn btn-primary",onClick:this.onClick,children:"Submit"})})]})}}]),n}(r.a.Component),E=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(m,{}),Object(u.jsx)(g,{}),Object(u.jsx)(h,{})]})}}]),n}(r.a.Component);o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(E,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.d5d75da3.chunk.js.map